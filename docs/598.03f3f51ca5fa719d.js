"use strict";(self.webpackChunkcs_blog=self.webpackChunkcs_blog||[]).push([[598],{4598:(A,d,c)=>{c.r(d),c.d(d,{BlogModule:()=>B});var u=c(6814),p=c(5949),h=c(5619),_=c(7398),f=c(8965),t=c(8926),b=c(2375);function x(e,l){if(1&e&&(t.TgZ(0,"article")(1,"h3")(2,"a",4),t._uU(3),t.qZA()(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("routerLink",n.route),t.xp6(1),t.Oqu(n.title),t.xp6(2),t.Oqu(n.datePublished),t.xp6(2),t.Oqu(n.description)}}function C(e,l){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,x,8,4,"article",3),t.qZA()),2&e){const n=l.$implicit;t.xp6(1),t.Q6J("ngIf",n.datePublished)}}function P(e,l){1&e&&(t.TgZ(0,"span",9),t._uU(1,"|"),t.qZA())}function y(e,l){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",7),t.NdJ("click",function(){const a=t.CHM(n).$implicit,r=t.oxw(2).ngIf,s=t.oxw();return t.KtG(s.setPage(a,r))}),t._uU(2),t.qZA(),t.YNc(3,P,2,0,"span",8),t.BQk()}if(2&e){const n=l.$implicit,o=l.last,i=t.oxw().ngIf;t.xp6(1),t.Q6J("disabled",n===i),t.xp6(1),t.Oqu(n),t.xp6(1),t.Q6J("ngIf",!o)}}function v(e,l){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"nav",5)(2,"button",6),t.NdJ("click",function(){const a=t.CHM(n).ngIf,r=t.oxw().ngIf,s=t.oxw();return t.KtG(s.setPage(a-1,r))}),t._uU(3," Prev "),t.qZA(),t.YNc(4,y,4,3,"ng-container",2),t.TgZ(5,"button",6),t.NdJ("click",function(){const a=t.CHM(n).ngIf,r=t.oxw().ngIf,s=t.oxw();return t.KtG(s.setPage(a+1,r))}),t._uU(6," Next "),t.qZA()(),t.BQk()}if(2&e){const n=l.ngIf,o=t.oxw().ngIf,i=t.oxw();t.xp6(2),t.Q6J("disabled",n<=1),t.xp6(2),t.Q6J("ngForOf",i.pagesArray(o)),t.xp6(1),t.Q6J("disabled",n>=o)}}function O(e,l){if(1&e&&(t.ynx(0),t.YNc(1,v,7,3,"ng-container",3),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.currentPage$))}}const M=[{path:"",component:(()=>{class e{constructor(n,o,i){this.scullyService=n,this.route=o,this.router=i,this.blogSrc="../../assets/books.jpg",this.pageSize=10,this.page$=new h.X(1),this.currentPage$=this.page$.asObservable(),this.search$=new h.X(""),this.currentSearch$=this.search$.asObservable()}ngOnInit(){let n=document.getElementById("photo-top");n&&(n.style.backgroundImage="url("+this.blogSrc+")"),this.posts$=this.scullyService.available$.pipe((0,_.U)(r=>Array.from(r.values()).sort((s,g)=>new Date(g.datePublished)?.getTime()-new Date(s.datePublished)?.getTime()))),this.filteredPosts$=(0,f.a)([this.posts$,this.search$]).pipe((0,_.U)(([r,s])=>{const g=s?.toLowerCase().trim();return g?r.filter(m=>{const T=(m.title||"").toString().toLowerCase(),Z=(m.description||"").toString().toLowerCase();return T.includes(g)||Z.includes(g)}):r})),this.totalPages$=this.filteredPosts$.pipe((0,_.U)(r=>Math.max(1,Math.ceil(r.length/this.pageSize)))),this.pagedPosts$=(0,f.a)([this.filteredPosts$,this.page$]).pipe((0,_.U)(([r,s])=>{const g=(s-1)*this.pageSize;return r.slice(g,g+this.pageSize)}));const o=this.route.snapshot.queryParamMap,i=Number(o.get("page"));!Number.isNaN(i)&&i>=1&&this.page$.next(i);const a=o.get("q")??"";a&&this.search$.next(a)}setPage(n,o){const i=Math.min(Math.max(1,n),o);this.page$.next(i),this.router.navigate([],{relativeTo:this.route,queryParams:{page:i},queryParamsHandling:"merge"})}onSearch(n){this.search$.next(n),this.page$.next(1),this.router.navigate([],{relativeTo:this.route,queryParams:{q:n||null,page:1},queryParamsHandling:"merge"})}pagesArray(n){return Array.from({length:n},(o,i)=>i+1)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(b.sG),t.Y36(p.gz),t.Y36(p.F0))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-blog"]],decls:7,vars:9,consts:[[1,"blog-search"],["type","search","placeholder","Search posts...","aria-label","Search blog posts",3,"value","input"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["aria-label","Blog pagination",1,"pagination"],[1,"nav-btn",3,"disabled","click"],[1,"page-btn",3,"disabled","click"],["class","sep",4,"ngIf"],[1,"sep"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"input",1),t.NdJ("input",function(r){return i.onSearch(r.target.value)}),t.ALo(2,"async"),t.qZA()(),t.YNc(3,C,2,1,"div",2),t.ALo(4,"async"),t.YNc(5,O,3,3,"ng-container",3),t.ALo(6,"async")),2&o){let a;t.xp6(1),t.Q6J("value",null!==(a=t.lcZ(2,3,i.currentSearch$))&&void 0!==a?a:""),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,5,i.pagedPosts$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,i.totalPages$))}},dependencies:[u.sg,u.O5,p.rH,u.Ov],styles:["article[_ngcontent-%COMP%]{border-bottom:1px solid grey}.blog-search[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:.75rem 0 1rem}.blog-search[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{width:25%;padding-left:5px;border:1px solid grey;border-radius:4px;background:#fff;color:#333}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.25rem;margin:1.5rem 0}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{appearance:none;border:1px solid #ccc;background:#f8f8f8;color:#333;padding:.35rem .65rem;border-radius:6px;font-size:.95rem;line-height:1.2;cursor:pointer;transition:background .2s ease,border-color .2s ease,color .2s ease}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background:#efefef}.pagination[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{font-weight:600}.pagination[_ngcontent-%COMP%]   .nav-btn[disabled][_ngcontent-%COMP%]{cursor:default}.pagination[_ngcontent-%COMP%]   .page-btn[disabled][_ngcontent-%COMP%]{background:#333;border-color:#333;color:#fff;cursor:default}.pagination[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.6}.pagination[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{color:#aaa;margin:0 .35rem;-webkit-user-select:none;user-select:none}"]})}return e})()}];let $=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(M),p.Bz]})}return e})(),B=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[u.ez,$]})}return e})()}}]);